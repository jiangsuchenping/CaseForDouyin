@echo off
:: 关闭命令回显，使输出更整洁

chcp 65001 >nul
:: 设置代码页为UTF-8，支持中文显示

:: =============================================================================
:: 鸡兔同笼问题求解程序
:: 问题描述：已知头的总数和脚的总数，求鸡和兔的数量
:: 数学原理：
::   设鸡为x只，兔为y只
::   x + y = 总头数
::   2x + 4y = 总脚数
::   解得：x = (4*总头数 - 总脚数) / 2
::         y = 总头数 - x
:: =============================================================================

echo 鸡兔同笼问题求解器
echo.

:: =============================================================================
:: 示例数据部分
:: =============================================================================
:: 设置示例问题：头的总数和脚的总数
:: 示例：有35个头，94只脚
set heads=35
set feet=94

echo 示例问题：
echo 头的总数：%heads%
echo 脚的总数：%feet%
echo.

:: =============================================================================
:: 解题过程部分
:: =============================================================================
echo 解题过程：
echo 1. 设鸡的数量为x，兔的数量为y
echo 2. 根据已知条件，得到方程组：
echo    x + y = %heads%  （总头数）
echo    2x + 4y = %feet%  （总脚数）
echo 3. 解方程组：
echo    将第一个方程两边乘以4：4x + 4y = %heads%*4
echo    用新方程减去第二个方程：(4x + 4y) - (2x + 4y) = %heads%*4 - %feet%
echo    化简得到：2x = %heads%*4 - %feet%
echo    因此：x = (4*%heads% - %feet%) / 2
echo 4. 计算得到鸡的数量：x = (4*%heads% - %feet%) / 2 = (4*%heads%-%feet%)/2
echo 5. 兔的数量：y = %heads% - x = %heads% - ((4*%heads%-%feet%)/2)
echo.

:: =============================================================================
:: 计算部分
:: =============================================================================
:: 根据公式计算鸡的数量：(4*总头数 - 总脚数) / 2
set /a chickens=(4*%heads%-%feet%)/2
:: 计算兔的数量：总头数 - 鸡的数量
set /a rabbits=%heads%-%chickens%

:: =============================================================================
:: 结果验证部分
:: =============================================================================
:: 计算总脚数，验证结果是否正确
set /a total_feet=%chickens%*2+%rabbits%*4

:: 验证条件：
:: 1. 计算得到的总脚数与输入的总脚数相等
:: 2. 鸡的数量不能为负数
:: 3. 兔的数量不能为负数
if %total_feet% equ %feet% (
    if %chickens% geq 0 (
        if %rabbits% geq 0 (
            echo.
            echo 求解结果：
            echo ----------------------------
            echo 鸡的数量：%chickens%
            echo 兔的数量：%rabbits%
            echo ----------------------------
            echo 验证：
            echo 总头数：%heads%，总脚数：%total_feet%
            goto end
        )
    )
)

:: =============================================================================
:: 错误处理部分
:: =============================================================================
echo.
echo 错误：无解！
echo 请检查输入是否符合实际情况。
:: 可能的无解原因：
:: 1. 脚数不是偶数
:: 2. 脚数少于2*头数（每只至少2只脚）
:: 3. 脚数多于4*头数（每只最多4只脚）
:: 4. 解得的鸡或兔数量为负数

:: =============================================================================
:: 程序结束
:: =============================================================================
:end
echo.
pause